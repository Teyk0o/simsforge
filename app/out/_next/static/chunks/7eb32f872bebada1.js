(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45723,e=>{"use strict";var t=e.i(71645),r=e.i(69464);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"}))]]),n=t.forwardRef((e,n)=>t.createElement(r.default,{ref:n,...e,weights:a}));n.displayName="SpinnerIcon",e.s(["Spinner",()=>n],45723)},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},18566,(e,t,r)=>{t.exports=e.r(76562)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return s},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return i}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function o(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,l(e));else t.set(r,l(a));return t}function s(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return s}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=e.r(90809)._(e.r(98183)),l=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String(o.urlQueryToSearchParams(s)));let u=e.search||s&&`?${s}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||l.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),n=n.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${a}${c}${n}${u}${i}`}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(71645);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=o(e,a)),t&&(n.current=o(t,a))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return x},MissingStaticPage:function(){return w},NormalizeError:function(){return v},PageNotFoundError:function(){return b},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return o},execOnce:function(){return l},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return s},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return M}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class v extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class x extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function M(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let a=e.r(18967),n=e.r(52817);function o(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return b}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let o=e.r(90809),l=e.r(43476),i=o._(e.r(71645)),s=e.r(95057),c=e.r(8372),u=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let p=e.r(91949),m=e.r(73668),h=e.r(9396);function g(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}function y(t){var r;let a,n,o,[s,y]=(0,i.useOptimistic)(p.IDLE_LINK_STATUS),b=(0,i.useRef)(null),{href:w,as:x,children:M,prefetch:E=null,passHref:C,replace:P,shallow:j,scroll:A,onClick:Z,onMouseEnter:S,onTouchStart:N,legacyBehavior:k=!1,onNavigate:T,ref:_,unstable_dynamicOnHover:L,...F}=t;a=M,k&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let O=i.default.useContext(c.AppRouterContext),H=!1!==E,R=!1!==E?null===(r=E)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:D,as:$}=i.default.useMemo(()=>{let e=g(w);return{href:e,as:x?g(x):e}},[w,x]);if(k){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=i.default.Children.only(a)}let V=k?n&&"object"==typeof n&&n.ref:_,I=i.default.useCallback(e=>(null!==O&&(b.current=(0,p.mountLinkInstance)(e,D,O,R,H,y)),()=>{b.current&&((0,p.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,p.unmountPrefetchableInstance)(e)}),[H,D,O,R,y]),U={ref:(0,u.useMergedRef)(I,V),onClick(t){k||"function"!=typeof Z||Z(t),k&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!O||t.defaultPrevented||function(t,r,a,n,o,l,s){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),s){let e=!1;if(s({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);i.default.startTransition(()=>{d(a||r,o?"replace":"push",l??!0,n.current)})}}(t,D,$,b,P,A,T)},onMouseEnter(e){k||"function"!=typeof S||S(e),k&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),O&&H&&(0,p.onNavigationIntent)(e.currentTarget,!0===L)},onTouchStart:function(e){k||"function"!=typeof N||N(e),k&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),O&&H&&(0,p.onNavigationIntent)(e.currentTarget,!0===L)}};return(0,d.isAbsoluteUrl)($)?U.href=$:k&&!C&&("a"!==n.type||"href"in n.props)||(U.href=(0,f.addBasePath)($)),o=k?i.default.cloneElement(n,U):(0,l.jsx)("a",{...F,...U,children:a}),(0,l.jsx)(v.Provider,{value:s,children:o})}e.r(84508);let v=(0,i.createContext)(p.IDLE_LINK_STATUS),b=()=>(0,i.useContext)(v);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},56530,e=>{"use strict";var t=e.i(71645),r=e.i(69464);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),t.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"}))]]),n=t.forwardRef((e,n)=>t.createElement(r.default,{ref:n,...e,weights:a}));n.displayName="PlusIcon",e.s(["Plus",()=>n],56530)},85784,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(77854),n=e.i(79241);function o({onClose:e,onCreated:o}){let[l,i]=(0,r.useState)(""),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[f,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),{createProfile:v}=(0,n.useProfiles)(),b=async t=>{if(t.preventDefault(),y(null),!l.trim())return void y("Profile name is required");try{h(!0),console.log("[CreateProfileModal] Creating profile:",{name:l,description:s,tags:u});let t=await v(l.trim(),s.trim(),u);console.log("[CreateProfileModal] Profile created successfully:",t),i(""),c(""),d([]),o?.(),e()}catch(e){console.error("[CreateProfileModal] Error creating profile:",e),y(e.message||"Failed to create profile")}finally{h(!1)}},w=()=>{f.trim()&&!u.includes(f.trim())&&(d([...u,f.trim()]),p(""))};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:(0,t.jsxs)("div",{className:"rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--ui-panel)",borderColor:"var(--border-color)"},onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-color)"},children:[(0,t.jsx)("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Create Profile"}),(0,t.jsx)("button",{onClick:e,className:"p-1 rounded transition-colors",style:{color:"var(--text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.color="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.color="var(--text-secondary)"},children:(0,t.jsx)(a.X,{size:20})})]}),(0,t.jsxs)("form",{onSubmit:b,className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"profile-name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Profile Name *"}),(0,t.jsx)("input",{id:"profile-name",type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"e.g., Gameplay Realistic",disabled:m,className:"w-full px-3 py-2 rounded border transition-colors",style:{backgroundColor:"var(--ui-input-bg)",borderColor:"var(--border-color)",color:"var(--text-primary)"},onFocus:e=>{e.currentTarget.style.borderColor="#46C89B"},onBlur:e=>{e.currentTarget.style.borderColor="var(--border-color)"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"profile-description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description"}),(0,t.jsx)("textarea",{id:"profile-description",value:s,onChange:e=>c(e.target.value),placeholder:"Optional description of this profile...",disabled:m,rows:3,className:"w-full px-3 py-2 rounded border transition-colors resize-none",style:{backgroundColor:"var(--ui-input-bg)",borderColor:"var(--border-color)",color:"var(--text-primary)"},onFocus:e=>{e.currentTarget.style.borderColor="#46C89B"},onBlur:e=>{e.currentTarget.style.borderColor="var(--border-color)"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"profile-tags",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Tags"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{id:"profile-tags",type:"text",value:f,onChange:e=>p(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),w())},placeholder:"Add tag and press Enter",disabled:m,className:"flex-1 px-3 py-2 rounded border transition-colors",style:{backgroundColor:"var(--ui-input-bg)",borderColor:"var(--border-color)",color:"var(--text-primary)"}}),(0,t.jsx)("button",{type:"button",onClick:w,disabled:m||!f.trim(),className:"px-3 py-2 rounded transition-colors font-medium",style:{backgroundColor:"#46C89B",color:"white",opacity:m||!f.trim()?.5:1},children:"Add"})]}),u.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 px-2.5 py-1 rounded-full text-sm",style:{backgroundColor:"var(--ui-hover)"},children:[(0,t.jsx)("span",{style:{color:"var(--text-primary)"},children:e}),(0,t.jsx)("button",{type:"button",onClick:()=>{d(u.filter(t=>t!==e))},disabled:m,className:"p-0.5 rounded transition-colors",style:{color:"var(--text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.color="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.color="var(--text-secondary)"},children:(0,t.jsx)(a.X,{size:14,weight:"bold"})})]},e))})]}),g&&(0,t.jsx)("div",{className:"p-3 rounded text-sm",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444"},children:g}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:e,disabled:m,className:"flex-1 px-4 py-2 rounded transition-colors font-medium",style:{backgroundColor:"var(--ui-hover)",color:"var(--text-primary)",opacity:m?.5:1},children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:m||!l.trim(),className:"flex-1 px-4 py-2 rounded transition-colors font-medium text-white",style:{backgroundColor:"#46C89B",opacity:m||!l.trim()?.5:1},children:m?"Creating...":"Create Profile"})]})]})]})})}e.s(["default",()=>o])},83792,19132,e=>{"use strict";function t(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function r(e){try{let t=new Date(e),r=new Date().getTime()-t.getTime(),a=Math.floor(r/6e4);if(a<60)return`${a}m ago`;if(a<1440)return`${Math.floor(a/60)}h ago`;if(a<43200)return`${Math.floor(a/1440)}d ago`;return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(e){return"Recently"}}function a(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,t)).toFixed(1)} ${["B","KB","MB","GB","TB"][t]}`}function n(e){try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return"Unknown date"}}e.s(["formatDate",()=>n,"formatDownloadCount",()=>t,"formatFileSize",()=>a,"formatRelativeDate",()=>r],83792);var o=e.i(86682);let l="Request cancelled";async function i(e,t){let r=t?.signal;if(r?.aborted)throw Error(l);let a=t?.maxRedirections,n=t?.connectTimeout,i=t?.proxy,s=t?.danger;t&&(delete t.maxRedirections,delete t.connectTimeout,delete t.proxy,delete t.danger);let c=t?.headers?t.headers instanceof Headers?t.headers:new Headers(t.headers):new Headers,u=new Request(e,t),d=await u.arrayBuffer(),f=0!==d.byteLength?Array.from(new Uint8Array(d)):null;for(let[e,t]of u.headers)c.get(e)||c.set(e,t);let p=(c instanceof Headers?Array.from(c.entries()):Array.isArray(c)?c:Object.entries(c)).map(([e,t])=>[e,"string"==typeof t?t:t.toString()]);if(r?.aborted)throw Error(l);let m=await (0,o.invoke)("plugin:http|fetch",{clientConfig:{method:u.method,url:u.url,headers:p,data:f,maxRedirections:a,connectTimeout:n,proxy:i,danger:s}}),h=()=>(0,o.invoke)("plugin:http|fetch_cancel",{rid:m});if(r?.aborted)throw h(),Error(l);r?.addEventListener("abort",()=>void h());let{status:g,statusText:y,url:v,headers:b,rid:w}=await (0,o.invoke)("plugin:http|fetch_send",{rid:m}),x=()=>(0,o.invoke)("plugin:http|fetch_cancel_body",{rid:w}),M=async e=>{let t;try{t=await (0,o.invoke)("plugin:http|fetch_read_body",{rid:w})}catch(t){e.error(t),x();return}let r=new Uint8Array(t),a=r[r.byteLength-1],n=r.slice(0,r.byteLength-1);1===a?e.close():e.enqueue(n)},E=new Response([101,103,204,205,304].includes(g)?null:new ReadableStream({start:e=>{r?.addEventListener("abort",()=>{e.error(l),x()})},pull:e=>M(e)}),{status:g,statusText:y});return Object.defineProperty(E,"url",{value:v}),Object.defineProperty(E,"headers",{value:new Headers(b)}),E}var s=e.i(67464),c=e.i(24883),u=e.i(22997),d=e.i(17637),f=e.i(70249),p=e.i(52136);let m=new class{async installMod(e,t,r,a){let n=null;try{let o,l,i;r?.({stage:"downloading",percent:0,message:"Getting download URL..."});let{modName:m,fileName:h,downloadUrl:g,fileSize:y}=await (0,c.getModDownloadUrl)(e,a),v="1.0.0";try{let t=await (0,c.getCurseForgeMod)(e);o=t.logo||void 0,l=t.authors?.map(e=>e.name),i=t.dateModified,t.latestFiles&&t.latestFiles.length>0&&(v=t.latestFiles[0].displayName||"1.0.0")}catch(e){console.warn("Failed to fetch mod details:",e)}let b=await (0,u.join)(await this.getTempDir(),`mod_${e}_${Date.now()}`);await (0,s.mkdir)(b,{recursive:!0});let w=await (0,u.join)(b,h),x=Date.now(),M=5;n=setInterval(()=>{if(M<65){let e=Date.now()-x,t=5+60*Math.pow(e/15e3,.8);M=Math.min(t,65),r?.({stage:"downloading",percent:Math.floor(M),message:`Downloading ${h}...`})}},200);let{response:E,finalUrl:C}=await this.fetchWithRedirects(g,{method:"GET",connectTimeout:6e4,redirect:"follow"},5);if(!E.ok)throw Error(`Download failed with status ${E.status}: ${E.statusText}`);let P=await E.bytes();n&&(clearInterval(n),n=null),r?.({stage:"downloading",percent:70,message:`Downloaded ${h}`}),await (0,s.writeFile)(w,P),r?.({stage:"installing",percent:70,message:"Installing mod files..."});let j=h.toLowerCase().split(".").pop()||"";if("zip"!==j)throw Error(`Unsupported file format: ${j}`);r?.({stage:"installing",percent:70,message:"Adding to profile cache..."}),await d.modCacheService.initialize(),await f.profileService.initialize();let A=await f.profileService.getActiveProfile();if(!A)throw Error("No active profile. Please create or activate a profile before installing mods.");let Z=await d.modCacheService.addToCache(e,h,w,A.id),S={modId:e,modName:m,versionId:a||0,versionNumber:v,fileHash:Z.fileHash,fileName:h,installDate:new Date().toISOString(),enabled:!0,cacheLocation:Z.fileHash,logo:o,authors:l,lastUpdateDate:i};await f.profileService.addModToProfile(A.id,S);let N=[];if(t&&await (0,s.exists)(t)){r?.({stage:"installing",percent:85,message:"Creating symlink to profile mods..."});let e=await d.modCacheService.getCachePath(Z.fileHash),a=this.sanitizeModName(m),n=await p.symlinkService.activateProfile(t,[{source:e,modName:a}]);n.success||console.warn("Failed to create symlink:",n.errors),N=Z.files.map(e=>e.fileName)}else N=Z.files.map(e=>e.fileName);return await this.cleanupTempDir(b),r?.({stage:"complete",percent:100,message:`${m} installed successfully!`}),{success:!0,modName:m,filesInstalled:N}}catch(e){return console.error("[ModInstallationService] Installation error:",e),r?.({stage:"error",percent:0,message:e.message||"Installation failed"}),{success:!1,modName:"Unknown",filesInstalled:[],error:e.message||"Installation failed"}}finally{n&&clearInterval(n)}}async fetchWithRedirects(e,t={},r=5){let a=e;for(let e=0;e<=r;e++){let e=await i(a,t);if(e.status>=300&&e.status<400){let t=e.headers,r="function"==typeof t?.get?t.get("location"):t?.location??t?.location;if(!r)throw Error(`Redirected (${e.status}) but no Location header found`);try{r=new URL(r,a).toString()}catch{}a=r;continue}return{response:e,finalUrl:a}}throw Error("Too many redirects while trying to download file")}async installZipMod(e,t,r,a){let n=this.sanitizeModName(r),o=await (0,u.join)(t,n);await (0,s.exists)(o)||await (0,s.mkdir)(o,{recursive:!0}),a?.({stage:"extracting",percent:75,message:"Extracting files..."}),await this.extractZip(e,o);let l=await this.findPackageFiles(o);return a?.({stage:"installing",percent:90,message:`Installing ${l.length} files...`}),l}async extractZip(t,r){let{invoke:a}=await e.A(29600);try{await a("extract_zip",{zipPath:t,destDir:r})}catch(e){throw console.error("[ModInstallationService] Failed to extract zip:",e),Error(`Failed to extract zip: ${e}`)}}async findPackageFiles(e){let t=[];try{for(let r of(await (0,s.readDir)(e))){let a=await (0,u.join)(e,r.name);if(r.isDirectory){let e=await this.findPackageFiles(a);t.push(...e)}else r.name.endsWith(".package")&&t.push(a)}}catch(e){console.error("Error reading directory:",e)}return t}sanitizeModName(e){return e.replace(/[^a-z0-9_-]/gi,"_")}async getTempDir(){let{appDataDir:t}=await e.A(52062),r=await t();return await (0,u.join)(r,"temp","downloads")}async cleanupTempDir(e){try{await (0,s.remove)(e,{recursive:!0})}catch(e){console.error("Failed to cleanup temp dir:",e)}}};e.s(["modInstallationService",0,m],19132)},97529,e=>{e.v(e=>Promise.resolve().then(()=>e(24883)))},29600,e=>{e.v(e=>Promise.resolve().then(()=>e(86682)))},52062,e=>{e.v(e=>Promise.resolve().then(()=>e(22997)))}]);